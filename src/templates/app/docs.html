{% extends "base.html" %}
{% block title %}My Docs â€” Meeting Prep Agent{% endblock %}
{% block content %}
<div class="page-header">
  <h1>ğŸ“„ My Docs</h1>
  <p class="subtitle">Upload your resume, project descriptions, and notes. AI uses these to generate tailored prep briefs.</p>
</div>

<div style="display:flex;gap:0.5rem;margin-bottom:1rem;">
  <a href="{{ url_for('docs_tag') }}" class="btn">Tag a file</a>
  <a href="{{ url_for('docs_inline') }}" class="btn btn-outline">Paste content</a>
</div>

{% if by_category %}
{% for category, docs in by_category.items() %}
{% if docs %}
<div class="card">
  <h2>
    {% if category == 'interview' %}<span class="badge cat-interview">Interview</span>
    {% elif category == 'networking' %}<span class="badge cat-networking">Networking</span>
    {% elif category == 'class' %}<span class="badge cat-class">Class</span>
    {% elif category == 'work' %}<span class="badge cat-work">Work</span>
    {% else %}<span class="badge cat-other">{{ category }}</span>
    {% endif %}
  </h2>
  <ul class="item-list">
    {% for d in docs %}
    <li>
      <div class="item-info">
        <div class="item-title">{{ d.filename }}</div>
        <div class="item-meta">
          {% if d.label %}{{ d.label }}{% endif %}
          {% if d.path.startswith('inline:') %} Â· inline content{% endif %}
        </div>
      </div>
      <form method="post" action="{{ url_for('docs_remove') }}" style="margin:0;">
        <input type="hidden" name="path_or_id" value="{{ d.path }}">
        <button type="submit" class="btn-secondary btn-sm">Remove</button>
      </form>
    </li>
    {% endfor %}
  </ul>
</div>
{% endif %}
{% endfor %}
{% else %}
<div class="card empty">
  <div class="emoji">ğŸ“</div>
  <p>No docs uploaded yet.</p>
  <p class="muted">Tag your resume, project docs, or paste Google Doc content to use in AI prep briefs.</p>
</div>
{% endif %}
{% endblock %}
