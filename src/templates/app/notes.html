{% extends "base.html" %}
{% block title %}Notes â€” Meeting Prep Agent{% endblock %}
{% block content %}
<div class="page-header">
  <h1>ğŸ“ Meeting Notes</h1>
  <p class="subtitle">Log notes after meetings. AI uses them to prep for similar future meetings.</p>
</div>

<div style="display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap;align-items:center;">
  <a href="{{ url_for('notes_add') }}" class="btn">+ Add note</a>
  <form method="get" action="{{ url_for('notes_search') }}" style="display:flex;gap:0.5rem;margin:0;">
    <input type="text" name="q" placeholder="Search notes..." value="{{ search_query or '' }}" style="max-width:200px;">
    <button type="submit" class="btn-secondary">Search</button>
  </form>
</div>

{% if notes %}
<div class="card">
  <ul class="item-list">
    {% for n in notes %}
    <li>
      <div class="item-info">
        <div class="item-title">{{ n.meeting_title }}</div>
        <div class="item-meta">{{ n.date }} {% if n.attendees %}Â· {{ n.attendees|join(", ") }}{% endif %}</div>
        <div class="item-meta" style="margin-top:0.2rem;">{{ n.content[:200] }}{% if n.content|length > 200 %}...{% endif %}</div>
        {% if n.action_items %}
        <div style="margin-top:0.35rem;">
          {% for a in n.action_items %}
          <span class="badge badge-warn" style="margin-right:0.25rem;margin-bottom:0.2rem;">{{ a[:40] }}{% if a|length > 40 %}...{% endif %}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </li>
    {% endfor %}
  </ul>
</div>
{% else %}
<div class="card empty">
  <div class="emoji">ğŸ“</div>
  <p>No notes yet.</p>
  <p class="muted">After a meeting, add notes to help AI prep for similar meetings next time.</p>
</div>
{% endif %}
{% endblock %}
